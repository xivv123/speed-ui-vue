<template>
  <div class="sp-checkbox-demo">
    <h1>â˜‘ï¸ SPCheckbox å¤é€‰æ¡†ç»„ä»¶æ¼”ç¤º</h1>
    <p>åŸºäº SPInput + SPSelectionControl ç»„åˆå®ç°çš„é«˜æ€§èƒ½å¤é€‰æ¡†ç»„ä»¶</p>

    <!-- åŸºç¡€ç”¨æ³• -->
    <section class="demo-section">
      <h2>åŸºç¡€ç”¨æ³• (Basic)</h2>
      <div class="demo-container">
        <div class="checkbox-wrapper">
          <SPCheckbox
            v-model="basicValue1"
            label="é€‰é¡¹ 1"
            variant="outlined"
          />
          <SPCheckbox
            v-model="basicValue2"
            label="é€‰é¡¹ 2"
          />
          <SPCheckbox
            v-model="basicValue3"
            label="é€‰é¡¹ 3"
          />
        </div>
        <div class="demo-info">
          <h4>é€‰ä¸­çŠ¶æ€:</h4>
          <code>
            {{
              { value1: basicValue1, value2: basicValue2, value3: basicValue3 }
            }}
          </code>
          <p><small>åŸºç¡€çš„å¤é€‰æ¡†åŠŸèƒ½</small></p>
        </div>
      </div>
    </section>

    <!-- ä¸åŒå°ºå¯¸ -->
    <section class="demo-section">
      <h2>ä¸åŒå°ºå¯¸ (Sizes)</h2>
      <div class="demo-container">
        <div class="checkbox-wrapper">
          <SPCheckbox
            v-model="sizeValue1"
            label="å°å°ºå¯¸"
            size="small"
          />
          <SPCheckbox
            v-model="sizeValue2"
            label="ä¸­ç­‰å°ºå¯¸"
            size="medium"
          />
          <SPCheckbox
            v-model="sizeValue3"
            label="å¤§å°ºå¯¸"
            size="large"
          />
        </div>
        <div class="demo-info">
          <h4>é€‰ä¸­çŠ¶æ€:</h4>
          <code>
            {{ { small: sizeValue1, medium: sizeValue2, large: sizeValue3 } }}
          </code>
          <p><small>ä¸åŒå°ºå¯¸çš„å¤é€‰æ¡†</small></p>
        </div>
      </div>
    </section>

    <!-- ç¦ç”¨çŠ¶æ€ -->
    <section class="demo-section">
      <h2>ç¦ç”¨çŠ¶æ€ (Disabled)</h2>
      <div class="demo-container">
        <div class="checkbox-wrapper">
          <SPCheckbox
            v-model="disabledValue1"
            label="ç¦ç”¨æœªé€‰ä¸­"
            disabled
          />
          <SPCheckbox
            v-model="disabledValue2"
            label="ç¦ç”¨å·²é€‰ä¸­"
            disabled
          />
          <SPCheckbox
            v-model="disabledValue3"
            label="åªè¯»çŠ¶æ€"
            readonly
          />
        </div>
        <div class="demo-info">
          <h4>çŠ¶æ€:</h4>
          <code>
            {{
              {
                disabled1: disabledValue1,
                disabled2: disabledValue2,
                readonly: disabledValue3,
              }
            }}
          </code>
          <p><small>ç¦ç”¨å’Œåªè¯»çŠ¶æ€çš„å¤é€‰æ¡†</small></p>
        </div>
      </div>
    </section>

    <!-- ä¸ç¡®å®šçŠ¶æ€ -->
    <section class="demo-section">
      <h2>ä¸ç¡®å®šçŠ¶æ€ (Indeterminate)</h2>
      <div class="demo-container">
        <div class="checkbox-wrapper">
          <SPCheckbox
            v-model="parentValue"
            :indeterminate="isIndeterminate"
            label="å…¨é€‰"
            @change="onParentChange"
          />
          <div class="child-checkboxes">
            <SPCheckbox
              v-model="childValue1"
              label="å­é€‰é¡¹ 1"
              @change="onChildChange"
            />
            <SPCheckbox
              v-model="childValue2"
              label="å­é€‰é¡¹ 2"
              @change="onChildChange"
            />
            <SPCheckbox
              v-model="childValue3"
              label="å­é€‰é¡¹ 3"
              @change="onChildChange"
            />
          </div>
        </div>
        <div class="demo-info">
          <h4>çŠ¶æ€:</h4>
          <code>
            {{
              {
                parent: parentValue,
                indeterminate: isIndeterminate,
                children: [childValue1, childValue2, childValue3],
              }
            }}
          </code>
          <p><small>çˆ¶å­å¤é€‰æ¡†è”åŠ¨ï¼Œå±•ç¤ºä¸ç¡®å®šçŠ¶æ€</small></p>
        </div>
      </div>
    </section>

    <!-- è‡ªå®šä¹‰å€¼ -->
    <section class="demo-section">
      <h2>è‡ªå®šä¹‰å€¼ (Custom Values)</h2>
      <div class="demo-container">
        <div class="checkbox-wrapper">
          <SPCheckbox
            v-model="customValue1"
            label="è‡ªå®šä¹‰å€¼ A"
            :true-value="'yes'"
            :false-value="'no'"
          />
          <SPCheckbox
            v-model="customValue2"
            label="è‡ªå®šä¹‰å€¼ B"
            :true-value="1"
            :false-value="0"
          />
          <SPCheckbox
            v-model="customValue3"
            label="è‡ªå®šä¹‰å€¼ C"
            :true-value="{ selected: true }"
            :false-value="{ selected: false }"
          />
        </div>
        <div class="demo-info">
          <h4>è‡ªå®šä¹‰å€¼:</h4>
          <code>
            {{
              {
                valueA: customValue1,
                valueB: customValue2,
                valueC: customValue3,
              }
            }}
          </code>
          <p><small>ä½¿ç”¨è‡ªå®šä¹‰çš„ true/false å€¼</small></p>
        </div>
      </div>
    </section>

    <!-- éªŒè¯çŠ¶æ€ -->
    <section class="demo-section">
      <h2>éªŒè¯çŠ¶æ€ (Validation)</h2>
      <div class="demo-container">
        <div class="checkbox-wrapper">
          <SPCheckbox
            v-model="validValue"
            label="æˆåŠŸçŠ¶æ€"
            :error="false"
            hint="éªŒè¯é€šè¿‡"
          />
          <SPCheckbox
            v-model="invalidValue"
            label="é”™è¯¯çŠ¶æ€"
            :error="true"
            error-messages="è¯·å‹¾é€‰æ­¤é¡¹"
          />
          <SPCheckbox
            v-model="warningValue"
            label="è­¦å‘ŠçŠ¶æ€"
            hint="å»ºè®®å‹¾é€‰æ­¤é¡¹"
          />
        </div>
        <div class="demo-info">
          <h4>éªŒè¯çŠ¶æ€:</h4>
          <code>
            {{
              {
                valid: validValue,
                invalid: invalidValue,
                warning: warningValue,
              }
            }}
          </code>
          <p><small>ä¸åŒéªŒè¯çŠ¶æ€çš„å¤é€‰æ¡†</small></p>
        </div>
      </div>
    </section>

    <!-- ç»„åˆä½¿ç”¨ -->
    <section class="demo-section">
      <h2>ç»„åˆä½¿ç”¨ (Group Usage)</h2>
      <div class="demo-container">
        <div class="checkbox-wrapper">
          <h4>å…´è¶£çˆ±å¥½é€‰æ‹©:</h4>
          <SPCheckbox
            v-model="hobbies"
            label="é˜…è¯»"
            value="reading"
          />
          <SPCheckbox
            v-model="hobbies"
            label="è¿åŠ¨"
            value="sports"
          />
          <SPCheckbox
            v-model="hobbies"
            label="éŸ³ä¹"
            value="music"
          />
          <SPCheckbox
            v-model="hobbies"
            label="æ—…è¡Œ"
            value="travel"
          />
          <SPCheckbox
            v-model="hobbies"
            label="ç¼–ç¨‹"
            value="coding"
          />
        </div>
        <div class="demo-info">
          <h4>é€‰ä¸­çš„çˆ±å¥½:</h4>
          <code>{{ hobbies }}</code>
          <p><small>å¤šä¸ªå¤é€‰æ¡†ç»‘å®šåˆ°åŒä¸€ä¸ªæ•°ç»„</small></p>
        </div>
      </div>
    </section>

    <!-- é¢œè‰²ä¸»é¢˜ -->
    <section class="demo-section">
      <h2>é¢œè‰²ä¸»é¢˜ (Color Themes)</h2>
      <div class="demo-container">
        <div class="checkbox-wrapper">
          <SPCheckbox
            v-model="colorValue1"
            label="Primary ä¸»è‰²"
            color="primary"
          />
          <SPCheckbox
            v-model="colorValue2"
            label="Secondary æ¬¡è‰²"
            color="secondary"
          />
          <SPCheckbox
            v-model="colorValue3"
            label="Success æˆåŠŸ"
            color="success"
          />
          <SPCheckbox
            v-model="colorValue4"
            label="Warning è­¦å‘Š"
            color="#785658"
          />
          <SPCheckbox
            v-model="colorValue5"
            label="Error é”™è¯¯"
            color="error"
          />
          <SPCheckbox
            v-model="colorValue6"
            label="Info ä¿¡æ¯"
            color="info"
          />
        </div>
        <div class="demo-info">
          <h4>é¢œè‰²çŠ¶æ€:</h4>
          <code>
            {{
              {
                primary: colorValue1,
                secondary: colorValue2,
                success: colorValue3,
                warning: colorValue4,
                error: colorValue5,
                info: colorValue6,
              }
            }}
          </code>
          <p><small>ä¸åŒé¢œè‰²ä¸»é¢˜çš„å¤é€‰æ¡†</small></p>
        </div>
      </div>
    </section>

    <!-- ç»„ä»¶å¤ç”¨è¯´æ˜ -->
    <section class="demo-section">
      <h2>ğŸš€ ç»„ä»¶å¤ç”¨æ¶æ„</h2>
      <div class="reuse-info">
        <div class="reuse-item">
          <strong>SPInput ç»„ä»¶:</strong>
          100% å¤ç”¨è¾“å…¥æ¡†åŸºç¡€åŠŸèƒ½ã€éªŒè¯çŠ¶æ€ã€æ ‡ç­¾ç­‰
        </div>
        <div class="reuse-item">
          <strong>SPSelectionControl:</strong>
          95% å¤ç”¨é€‰æ‹©æ§åˆ¶é€»è¾‘ã€å›¾æ ‡åˆ‡æ¢ã€çŠ¶æ€ç®¡ç†
        </div>
        <div class="reuse-item">
          <strong>æ ·å¼ç³»ç»Ÿ:</strong>
          100% å¤ç”¨ BEM è§„èŒƒã€ä¸»é¢˜å˜é‡ã€å“åº”å¼è®¾è®¡
        </div>
        <div class="reuse-item">
          <strong>ç»„åˆå¼ API:</strong>
          å¤ç”¨ focusã€proxiedModelã€icons ç­‰é€šç”¨é€»è¾‘
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
  import { ref, computed } from 'vue'
  // æ³¨æ„ï¼šSPCheckbox ç»„ä»¶å·²ç»å…¨å±€æ³¨å†Œï¼Œæ— éœ€æ‰‹åŠ¨å¯¼å…¥

  // åŸºç¡€ç”¨æ³•
  const basicValue1 = ref(false)
  const basicValue2 = ref(true)
  const basicValue3 = ref(false)

  // ä¸åŒå°ºå¯¸
  const sizeValue1 = ref(false)
  const sizeValue2 = ref(true)
  const sizeValue3 = ref(false)

  // ç¦ç”¨çŠ¶æ€
  const disabledValue1 = ref(false)
  const disabledValue2 = ref(true)
  const disabledValue3 = ref(true)

  // ä¸ç¡®å®šçŠ¶æ€
  const parentValue = ref(false)
  const childValue1 = ref(false)
  const childValue2 = ref(true)
  const childValue3 = ref(false)

  const isIndeterminate = computed(() => {
    const checkedCount = [
      childValue1.value,
      childValue2.value,
      childValue3.value,
    ].filter(Boolean).length
    return checkedCount > 0 && checkedCount < 3
  })

  const onParentChange = (value: boolean) => {
    childValue1.value = value
    childValue2.value = value
    childValue3.value = value
  }

  const onChildChange = () => {
    const checkedCount = [
      childValue1.value,
      childValue2.value,
      childValue3.value,
    ].filter(Boolean).length
    parentValue.value = checkedCount === 3
  }

  // è‡ªå®šä¹‰å€¼
  const customValue1 = ref('no')
  const customValue2 = ref(0)
  const customValue3 = ref({ selected: false })

  // éªŒè¯çŠ¶æ€
  const validValue = ref(true)
  const invalidValue = ref(false)
  const warningValue = ref(false)

  // ç»„åˆä½¿ç”¨
  const hobbies = ref(['music', 'coding'])

  // é¢œè‰²ä¸»é¢˜
  const colorValue1 = ref(true) // primary
  const colorValue2 = ref(false) // secondary
  const colorValue3 = ref(true) // success
  const colorValue4 = ref(false) // warning
  const colorValue5 = ref(true) // error
  const colorValue6 = ref(false) // info
</script>

<style scoped>
  .sp-checkbox-demo {
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .demo-section {
    margin-bottom: 40px;
    padding: 20px;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    background: #fafafa;
  }

  .demo-section h2 {
    margin-top: 0;
    color: #333;
    border-bottom: 2px solid #007bff;
    padding-bottom: 10px;
  }

  .demo-container {
    display: flex;
    gap: 30px;
    align-items: flex-start;
  }

  .checkbox-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .child-checkboxes {
    margin-left: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .demo-info {
    flex: 1;
    background: white;
    padding: 15px;
    border-radius: 6px;
    border: 1px solid #ddd;
  }

  .demo-info h4 {
    margin: 0 0 10px 0;
    color: #555;
  }

  .demo-info code {
    display: block;
    background: #f5f5f5;
    padding: 10px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    white-space: pre-wrap;
    word-break: break-all;
  }

  .demo-info p {
    margin: 10px 0 0 0;
    color: #666;
  }

  .reuse-info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 15px;
  }

  .reuse-item {
    background: white;
    padding: 15px;
    border-radius: 6px;
    border-left: 4px solid #007bff;
  }

  .reuse-item strong {
    color: #007bff;
    display: block;
    margin-bottom: 5px;
  }

  @media (max-width: 768px) {
    .demo-container {
      flex-direction: column;
    }

    .reuse-info {
      grid-template-columns: 1fr;
    }
  }
</style>
