<template>
  <DemoContainer title="SPDrawer æŠ½å±‰ç»„ä»¶">
    <!-- åŸºç¡€ç”¨æ³• -->
    <DemoSection title="åŸºç¡€ç”¨æ³•" subtitle="ä»å±å¹•è¾¹ç¼˜æ»‘å‡ºçš„é¢æ¿">
      <sp-btn @click="basicDrawer = true">æ‰“å¼€æŠ½å±‰</sp-btn>
      <sp-drawer v-model="basicDrawer">
        <div class="drawer-content">
          <h3>æŠ½å±‰æ ‡é¢˜</h3>
          <p>è¿™æ˜¯æŠ½å±‰çš„å†…å®¹åŒºåŸŸ</p>
          <sp-btn @click="basicDrawer = false">å…³é—­</sp-btn>
        </div>
      </sp-drawer>
    </DemoSection>

    <sp-space :size="24" />

    <!-- ä¸åŒä½ç½® -->
    <DemoSection title="ä¸åŒä½ç½®" subtitle="æŠ½å±‰å¯ä»¥ä»å››ä¸ªæ–¹å‘æ»‘å‡º">
      <div class="button-group">
        <sp-btn @click="leftDrawer = true">å·¦ä¾§æŠ½å±‰</sp-btn>
        <sp-btn @click="rightDrawer = true">å³ä¾§æŠ½å±‰</sp-btn>
        <sp-btn @click="topDrawer = true">é¡¶éƒ¨æŠ½å±‰</sp-btn>
        <sp-btn @click="bottomDrawer = true">åº•éƒ¨æŠ½å±‰</sp-btn>
      </div>

      <sp-drawer v-model="leftDrawer" location="left">
        <div class="drawer-content">
          <h3>å·¦ä¾§æŠ½å±‰</h3>
          <p>ä»å·¦ä¾§æ»‘å…¥çš„æŠ½å±‰</p>
          <sp-btn @click="leftDrawer = false">å…³é—­</sp-btn>
        </div>
      </sp-drawer>

      <sp-drawer v-model="rightDrawer" location="right">
        <div class="drawer-content">
          <h3>å³ä¾§æŠ½å±‰</h3>
          <p>ä»å³ä¾§æ»‘å…¥çš„æŠ½å±‰</p>
          <sp-btn @click="rightDrawer = false">å…³é—­</sp-btn>
        </div>
      </sp-drawer>

      <sp-drawer v-model="topDrawer" location="top" width="100%">
        <div class="drawer-content">
          <h3>é¡¶éƒ¨æŠ½å±‰</h3>
          <p>ä»é¡¶éƒ¨æ»‘å…¥çš„æŠ½å±‰</p>
          <sp-btn @click="topDrawer = false">å…³é—­</sp-btn>
        </div>
      </sp-drawer>

      <sp-drawer v-model="bottomDrawer" location="bottom">
        <div class="drawer-content">
          <h3>åº•éƒ¨æŠ½å±‰</h3>
          <p>ä»åº•éƒ¨æ»‘å…¥çš„æŠ½å±‰</p>
          <sp-btn @click="bottomDrawer = false">å…³é—­</sp-btn>
        </div>
      </sp-drawer>
    </DemoSection>

    <sp-space :size="24" />

    <!-- ä¸åŒå®½åº¦ -->
    <DemoSection title="è‡ªå®šä¹‰å®½åº¦" subtitle="å¯ä»¥è®¾ç½®ä¸åŒçš„æŠ½å±‰å®½åº¦">
      <div class="button-group">
        <sp-btn @click="smallDrawer = true">å°æŠ½å±‰ (200px)</sp-btn>
        <sp-btn @click="mediumDrawer = true">ä¸­ç­‰æŠ½å±‰ (400px)</sp-btn>
        <sp-btn @click="largeDrawer = true">å¤§æŠ½å±‰ (600px)</sp-btn>
      </div>

      <sp-drawer v-model="smallDrawer" :width="200">
        <div class="drawer-content">
          <h3>å°æŠ½å±‰</h3>
          <p>å®½åº¦: 200px</p>
          <sp-btn @click="smallDrawer = false">å…³é—­</sp-btn>
        </div>
      </sp-drawer>

      <sp-drawer v-model="mediumDrawer" :width="400">
        <div class="drawer-content">
          <h3>ä¸­ç­‰æŠ½å±‰</h3>
          <p>å®½åº¦: 400px</p>
          <sp-btn @click="mediumDrawer = false">å…³é—­</sp-btn>
        </div>
      </sp-drawer>

      <sp-drawer v-model="largeDrawer" :width="600">
        <div class="drawer-content">
          <h3>å¤§æŠ½å±‰</h3>
          <p>å®½åº¦: 600px</p>
          <sp-btn @click="largeDrawer = false">å…³é—­</sp-btn>
        </div>
      </sp-drawer>
    </DemoSection>

    <sp-space :size="24" />

    <!-- ä½¿ç”¨ activator æ’æ§½ -->
    <DemoSection title="ä½¿ç”¨ Activator æ’æ§½" subtitle="é€šè¿‡æ’æ§½æ›´æ–¹ä¾¿åœ°æ§åˆ¶è§¦å‘å…ƒç´ ">
      <sp-drawer v-model="activatorDrawer">
        <template #activator="{ props }">
          <sp-btn v-bind="props">ç‚¹å‡»æ‰“å¼€æŠ½å±‰</sp-btn>
        </template>
        <div class="drawer-content">
          <h3>é€šè¿‡ Activator æ‰“å¼€</h3>
          <p>ä½¿ç”¨ activator æ’æ§½å¯ä»¥æ›´æ–¹ä¾¿åœ°æ§åˆ¶è§¦å‘å…ƒç´ </p>
          <sp-btn @click="activatorDrawer = false">å…³é—­</sp-btn>
        </div>
      </sp-drawer>
    </DemoSection>

    <sp-space :size="24" />

    <!-- å®é™…åº”ç”¨åœºæ™¯ -->
    <DemoSection title="å®é™…åº”ç”¨åœºæ™¯" subtitle="å¸¸è§çš„ä½¿ç”¨æ¡ˆä¾‹">
      <!-- å¯¼èˆªèœå• -->
      <div class="scenario">
        <h3>å¯¼èˆªèœå•</h3>
        <sp-btn @click="navDrawer = true">æ‰“å¼€å¯¼èˆª</sp-btn>
        <sp-drawer v-model="navDrawer" location="left" :width="280">
          <div class="drawer-content nav-drawer">
            <div class="nav-header">
              <h3>å¯¼èˆªèœå•</h3>
              <sp-btn icon @click="navDrawer = false">Ã—</sp-btn>
            </div>
            <div class="nav-body">
              <div class="nav-item" @click="handleNavClick('home')">ğŸ  é¦–é¡µ</div>
              <div class="nav-item" @click="handleNavClick('profile')">ğŸ‘¤ ä¸ªäººä¸­å¿ƒ</div>
              <div class="nav-item" @click="handleNavClick('settings')">âš™ï¸ è®¾ç½®</div>
              <div class="nav-item" @click="handleNavClick('about')">â„¹ï¸ å…³äº</div>
            </div>
          </div>
        </sp-drawer>
      </div>

      <sp-space :size="20" />

      <!-- ç­›é€‰é¢æ¿ -->
      <div class="scenario">
        <h3>ç­›é€‰é¢æ¿</h3>
        <sp-btn @click="filterDrawer = true">æ‰“å¼€ç­›é€‰</sp-btn>
        <sp-drawer v-model="filterDrawer" location="right" :width="320">
          <div class="drawer-content filter-drawer">
            <div class="filter-header">
              <h3>ç­›é€‰æ¡ä»¶</h3>
              <sp-btn text @click="filterDrawer = false">å®Œæˆ</sp-btn>
            </div>
            <div class="filter-body">
              <div class="filter-section">
                <h4>ä»·æ ¼åŒºé—´</h4>
                <sp-checkbox v-model="filters.price1">0-100å…ƒ</sp-checkbox>
                <sp-checkbox v-model="filters.price2">100-500å…ƒ</sp-checkbox>
                <sp-checkbox v-model="filters.price3">500å…ƒä»¥ä¸Š</sp-checkbox>
              </div>
              <div class="filter-section">
                <h4>å“ç‰Œ</h4>
                <sp-checkbox v-model="filters.brand1">å“ç‰ŒA</sp-checkbox>
                <sp-checkbox v-model="filters.brand2">å“ç‰ŒB</sp-checkbox>
                <sp-checkbox v-model="filters.brand3">å“ç‰ŒC</sp-checkbox>
              </div>
              <div class="filter-actions">
                <sp-btn @click="resetFilters" variant="outlined">é‡ç½®</sp-btn>
                <sp-btn @click="applyFilters" color="primary">åº”ç”¨</sp-btn>
              </div>
            </div>
          </div>
        </sp-drawer>
      </div>

      <sp-space :size="20" />

      <!-- è¯¦æƒ…é¢æ¿ -->
      <div class="scenario">
        <h3>è¯¦æƒ…é¢æ¿</h3>
        <sp-btn @click="detailDrawer = true">æŸ¥çœ‹è¯¦æƒ…</sp-btn>
        <sp-drawer v-model="detailDrawer" location="right" :width="480">
          <div class="drawer-content detail-drawer">
            <div class="detail-header">
              <h3>å•†å“è¯¦æƒ…</h3>
              <sp-btn icon @click="detailDrawer = false">Ã—</sp-btn>
            </div>
            <div class="detail-body">
              <div class="product-image">
                <div class="image-placeholder">ğŸ“¦ äº§å“å›¾ç‰‡</div>
              </div>
              <div class="product-info">
                <h2>äº§å“åç§°</h2>
                <div class="price">Â¥299.00</div>
                <p class="description">è¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„äº§å“ï¼Œæ‹¥æœ‰å‡ºè‰²çš„è´¨é‡å’Œè®¾è®¡...</p>
                <div class="specs">
                  <div class="spec-item">
                    <span class="label">é¢œè‰²ï¼š</span>
                    <span class="value">é»‘è‰²</span>
                  </div>
                  <div class="spec-item">
                    <span class="label">å°ºå¯¸ï¼š</span>
                    <span class="value">ä¸­å·</span>
                  </div>
                  <div class="spec-item">
                    <span class="label">åº“å­˜ï¼š</span>
                    <span class="value">99ä»¶</span>
                  </div>
                </div>
                <sp-btn color="primary" block>åŠ å…¥è´­ç‰©è½¦</sp-btn>
              </div>
            </div>
          </div>
        </sp-drawer>
      </div>
    </DemoSection>
  </DemoContainer>
</template>

<script setup lang="ts">
import { ref, reactive } from 'vue'
import DemoContainer from '../components/DemoContainer.vue'
import DemoSection from '../components/DemoSection.vue'

// åŸºç¡€æŠ½å±‰çŠ¶æ€
const basicDrawer = ref(false)
const leftDrawer = ref(false)
const rightDrawer = ref(false)
const topDrawer = ref(false)
const bottomDrawer = ref(false)

// ä¸åŒå®½åº¦
const smallDrawer = ref(false)
const mediumDrawer = ref(false)
const largeDrawer = ref(false)

// Activator
const activatorDrawer = ref(false)

// åº”ç”¨åœºæ™¯
const navDrawer = ref(false)
const filterDrawer = ref(false)
const detailDrawer = ref(false)

// ç­›é€‰æ¡ä»¶
const filters = reactive({
  price1: false,
  price2: false,
  price3: false,
  brand1: false,
  brand2: false,
  brand3: false,
})

const handleNavClick = (route: string) => {
  console.log('å¯¼èˆªåˆ°:', route)
  navDrawer.value = false
}

const resetFilters = () => {
  Object.keys(filters).forEach(key => {
    filters[key as keyof typeof filters] = false
  })
}

const applyFilters = () => {
  console.log('åº”ç”¨ç­›é€‰:', filters)
  filterDrawer.value = false
}
</script>

<style scoped>
.button-group {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.drawer-content {
  padding: 24px;
}

.scenario {
  margin-bottom: 16px;
}

.scenario h3 {
  margin: 0 0 12px 0;
  font-size: 16px;
  font-weight: 600;
}

/* å¯¼èˆªæŠ½å±‰æ ·å¼ */
.nav-drawer {
  padding: 0;
}

.nav-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid #e0e0e0;
}

.nav-header h3 {
  margin: 0;
}

.nav-body {
  padding: 8px 0;
}

.nav-item {
  padding: 12px 24px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.nav-item:hover {
  background-color: #f5f5f5;
}

/* ç­›é€‰æŠ½å±‰æ ·å¼ */
.filter-drawer {
  padding: 0;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.filter-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid #e0e0e0;
}

.filter-header h3 {
  margin: 0;
}

.filter-body {
  flex: 1;
  padding: 24px;
  overflow-y: auto;
}

.filter-section {
  margin-bottom: 24px;
}

.filter-section h4 {
  margin: 0 0 12px 0;
  font-size: 14px;
  font-weight: 600;
}

.filter-actions {
  display: flex;
  gap: 12px;
  margin-top: 24px;
}

/* è¯¦æƒ…æŠ½å±‰æ ·å¼ */
.detail-drawer {
  padding: 0;
}

.detail-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid #e0e0e0;
}

.detail-header h3 {
  margin: 0;
}

.detail-body {
  padding: 24px;
}

.image-placeholder {
  width: 100%;
  height: 200px;
  background: #f5f5f5;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 48px;
  margin-bottom: 24px;
}

.product-info h2 {
  margin: 0 0 12px 0;
  font-size: 20px;
}

.price {
  font-size: 24px;
  color: #e91e63;
  font-weight: bold;
  margin-bottom: 16px;
}

.description {
  color: #666;
  line-height: 1.6;
  margin-bottom: 24px;
}

.specs {
  margin-bottom: 24px;
}

.spec-item {
  display: flex;
  padding: 8px 0;
  border-bottom: 1px solid #f0f0f0;
}

.spec-item .label {
  font-weight: 500;
  width: 80px;
}

.spec-item .value {
  color: #666;
}
</style>
