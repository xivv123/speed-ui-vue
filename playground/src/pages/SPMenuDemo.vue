<template>
  <DemoContainer title="SPMenu èœå•ç»„ä»¶">
    <!-- åŸºç¡€ç”¨æ³• -->
    <DemoSection title="åŸºç¡€ç”¨æ³•" subtitle="ç‚¹å‡»æŒ‰é’®æ‰“å¼€èœå•">
      <sp-menu>
        <template #activator="{ props }">
          <sp-btn v-bind="props" variant="elevated" color="primary">ç‚¹å‡»æ‰“å¼€èœå•</sp-btn>
        </template>
        <div class="menu-content">
          <div class="menu-item">èœå•é¡¹ 1</div>
          <div class="menu-item">èœå•é¡¹ 2</div>
          <div class="menu-item">èœå•é¡¹ 3</div>
        </div>
      </sp-menu>
    </DemoSection>

    <sp-space :size="24" />

    <!-- ä¸åŒè§¦å‘æ–¹å¼ -->
    <DemoSection title="ä¸åŒè§¦å‘æ–¹å¼" subtitle="ç‚¹å‡»æˆ–æ‚¬åœè§¦å‘">
      <div class="button-group">
        <sp-menu>
          <template #activator="{ props }">
            <sp-btn v-bind="props" variant="outlined">ç‚¹å‡»è§¦å‘</sp-btn>
          </template>
          <div class="menu-content">
            <div class="menu-item">ç‚¹å‡»èœå•é¡¹ 1</div>
            <div class="menu-item">ç‚¹å‡»èœå•é¡¹ 2</div>
          </div>
        </sp-menu>

        <sp-menu open-on-hover>
          <template #activator="{ props }">
            <sp-btn v-bind="props" variant="outlined" color="secondary">æ‚¬åœè§¦å‘</sp-btn>
          </template>
          <div class="menu-content">
            <div class="menu-item">æ‚¬åœèœå•é¡¹ 1</div>
            <div class="menu-item">æ‚¬åœèœå•é¡¹ 2</div>
          </div>
        </sp-menu>
      </div>
    </DemoSection>

    <sp-space :size="24" />

    <!-- ä¸åŒä½ç½® -->
    <DemoSection title="ä¸åŒä½ç½®" subtitle="èœå•å¯ä»¥åœ¨ä¸åŒæ–¹å‘å±•å¼€">
      <div class="button-group">
        <sp-menu location="top">
          <template #activator="{ props }">
            <sp-btn v-bind="props" variant="tonal">é¡¶éƒ¨</sp-btn>
          </template>
          <div class="menu-content">
            <div class="menu-item">é¡¶éƒ¨èœå•</div>
          </div>
        </sp-menu>

        <sp-menu location="bottom">
          <template #activator="{ props }">
            <sp-btn v-bind="props" variant="tonal">åº•éƒ¨</sp-btn>
          </template>
          <div class="menu-content">
            <div class="menu-item">åº•éƒ¨èœå•</div>
          </div>
        </sp-menu>

        <sp-menu location="start">
          <template #activator="{ props }">
            <sp-btn v-bind="props" variant="tonal">å·¦ä¾§</sp-btn>
          </template>
          <div class="menu-content">
            <div class="menu-item">å·¦ä¾§èœå•</div>
          </div>
        </sp-menu>

        <sp-menu location="end">
          <template #activator="{ props }">
            <sp-btn v-bind="props" variant="tonal">å³ä¾§</sp-btn>
          </template>
          <div class="menu-content">
            <div class="menu-item">å³ä¾§èœå•</div>
          </div>
        </sp-menu>
      </div>
    </DemoSection>

    <sp-space :size="24" />

    <!-- å¤æ‚èœå•å†…å®¹ -->
    <DemoSection title="å¤æ‚èœå•å†…å®¹" subtitle="å¸¦ç”¨æˆ·ä¿¡æ¯å’Œæ“ä½œçš„èœå•">
      <div class="button-group">
        <sp-menu>
          <template #activator="{ props }">
            <sp-btn v-bind="props" variant="elevated" color="success">ç”¨æˆ·èœå•</sp-btn>
          </template>
          <div class="user-menu">
            <div class="user-info">
              <div class="avatar">ğŸ‘¤</div>
              <div class="user-details">
                <div class="username">å¼ ä¸‰</div>
                <div class="email">zhangsan@example.com</div>
              </div>
            </div>
            <div class="menu-divider"></div>
            <div class="menu-item">ä¸ªäººèµ„æ–™</div>
            <div class="menu-item">è®¾ç½®</div>
            <div class="menu-item">å¸®åŠ©</div>
            <div class="menu-divider"></div>
            <div class="menu-item danger">é€€å‡ºç™»å½•</div>
          </div>
        </sp-menu>

        <sp-menu>
          <template #activator="{ props }">
            <sp-btn v-bind="props" variant="elevated" color="warning">æ“ä½œèœå•</sp-btn>
          </template>
          <div class="action-menu">
            <div class="menu-item">
              <span class="icon">ğŸ“</span>
              ç¼–è¾‘
            </div>
            <div class="menu-item">
              <span class="icon">ğŸ“‹</span>
              å¤åˆ¶
            </div>
            <div class="menu-item">
              <span class="icon">ğŸ“¤</span>
              åˆ†äº«
            </div>
            <div class="menu-divider"></div>
            <div class="menu-item danger">
              <span class="icon">ğŸ—‘ï¸</span>
              åˆ é™¤
            </div>
          </div>
        </sp-menu>
      </div>
    </DemoSection>

    <sp-space :size="24" />

    <!-- åµŒå¥—èœå• -->
    <DemoSection title="åµŒå¥—èœå•" subtitle="èœå•é¡¹ä¸­åŒ…å«å­èœå•">
      <sp-menu>
        <template #activator="{ props }">
          <sp-btn v-bind="props" variant="elevated" color="info">åµŒå¥—èœå•</sp-btn>
        </template>
        <div class="menu-content">
          <div class="menu-item">æ™®é€šèœå•é¡¹</div>
          <sp-menu location="end" submenu>
            <template #activator="{ props }">
              <div v-bind="props" class="menu-item submenu-trigger">å­èœå• â†’</div>
            </template>
            <div class="menu-content">
              <div class="menu-item">å­èœå•é¡¹ 1</div>
              <div class="menu-item">å­èœå•é¡¹ 2</div>
              <div class="menu-item">å­èœå•é¡¹ 3</div>
            </div>
          </sp-menu>
          <div class="menu-item">å¦ä¸€ä¸ªèœå•é¡¹</div>
        </div>
      </sp-menu>
    </DemoSection>
  </DemoContainer>
</template>

<script setup lang="ts">
import DemoContainer from '../components/DemoContainer.vue'
import DemoSection from '../components/DemoSection.vue'
</script>

<style scoped>
.button-group {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.menu-content {
  min-width: 160px;
  background: white;
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  padding: 8px 0;
}

.menu-item {
  padding: 8px 16px;
  cursor: pointer;
  transition: background-color 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
}

.menu-item:hover {
  background-color: #f5f5f5;
}

.menu-item.danger {
  color: #f56565;
}

.menu-item.danger:hover {
  background-color: #fed7d7;
}

.menu-divider {
  height: 1px;
  background-color: #e0e0e0;
  margin: 4px 0;
}

.user-menu,
.action-menu {
  min-width: 200px;
  background: white;
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  padding: 8px 0;
}

.user-info {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  gap: 12px;
}

.avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: #1976d2;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 18px;
}

.user-details {
  flex: 1;
}

.username {
  font-weight: 500;
  color: #333;
}

.email {
  font-size: 12px;
  color: #666;
}

.icon {
  font-size: 16px;
}

.submenu-trigger {
  position: relative;
}
</style>
