<template>
  <DemoContainer title="ğŸšï¸ SPSlider TSXæ»‘å—ç»„ä»¶æ¼”ç¤º" subtitle="æ¼”ç¤º SPSlider TSX ç»„ä»¶çš„ä¸åŒå˜ä½“å’ŒåŠŸèƒ½">
    <!-- åŸºç¡€ç”¨æ³• -->
    <DemoSection title="åŸºç¡€ç”¨æ³•" subtitle="åŸºæœ¬çš„æ»‘å—ç»„ä»¶ä½¿ç”¨æ–¹å¼">
      <div class="demo-row">
        <div class="slider-wrapper">
          <h3>é»˜è®¤æ»‘å—</h3>
          <SPSlider
            v-model="value1"
            :min="0"
            :max="100"
            :step="1"
          />
          <p>å½“å‰å€¼: {{ value1 }}</p>
        </div>

        <div class="slider-wrapper">
          <h3>å¸¦æ ‡ç­¾çš„æ»‘å—</h3>
          <SPSlider
            v-model="value2"
            :min="0"
            :max="100"
            :step="5"
          />
          <p>å½“å‰å€¼: {{ value2 }}</p>
        </div>
      </div>
    </DemoSection>

    <sp-space :size="24" />

    <!-- èŒƒå›´å’Œæ­¥é•¿ -->
    <DemoSection title="èŒƒå›´å’Œæ­¥é•¿" subtitle="è‡ªå®šä¹‰æ»‘å—çš„å–å€¼èŒƒå›´å’Œæ­¥é•¿">
      <div class="demo-row">
        <div class="slider-wrapper">
          <h3>è‡ªå®šä¹‰èŒƒå›´ (0-200)</h3>
          <SPSlider
            v-model="value3"
            :min="0"
            :max="200"
            :step="10"
          />
          <p>å½“å‰å€¼: {{ value3 }}</p>
        </div>

        <div class="slider-wrapper">
          <h3>å°æ•°æ­¥é•¿ (0-1, æ­¥é•¿0.1)</h3>
          <SPSlider
            v-model="value4"
            :min="0"
            :max="1"
            :step="0.1"
          />
          <p>å½“å‰å€¼: {{ value4.toFixed(1) }}</p>
        </div>
      </div>
    </DemoSection>

    <sp-space :size="24" />

    <!-- çŠ¶æ€æ¼”ç¤º -->
    <DemoSection title="çŠ¶æ€æ¼”ç¤º" subtitle="ä¸åŒçŠ¶æ€ä¸‹çš„æ»‘å—è¡¨ç°">
      <div class="demo-row">
        <div class="slider-wrapper">
          <h3>ç¦ç”¨çŠ¶æ€</h3>
          <SPSlider
            v-model="value5"
            :min="0"
            :max="100"
            :step="1"
            disabled
          />
          <p>å½“å‰å€¼: {{ value5 }}</p>
        </div>

        <div class="slider-wrapper">
          <h3>åªè¯»çŠ¶æ€</h3>
          <SPSlider
            v-model="value6"
            :min="0"
            :max="100"
            :step="1"
            readonly
          />
          <p>å½“å‰å€¼: {{ value6 }}</p>
        </div>
      </div>
    </DemoSection>

    <sp-space :size="24" />

    <!-- é¢œè‰²ä¸»é¢˜ -->
    <DemoSection title="é¢œè‰²ä¸»é¢˜" subtitle="ä¸åŒé¢œè‰²ä¸»é¢˜çš„æ»‘å—">
      <div class="demo-row">
        <div class="slider-wrapper">
          <h3>ä¸»è‰²è°ƒ</h3>
          <SPSlider
            v-model="value7"
            :min="0"
            :max="100"
            :step="1"
            color="primary"
          />
          <p>å½“å‰å€¼: {{ value7 }}</p>
        </div>

        <div class="slider-wrapper">
          <h3>æˆåŠŸè‰²</h3>
          <SPSlider
            v-model="value8"
            :min="0"
            :max="100"
            :step="1"
            color="success"
          />
          <p>å½“å‰å€¼: {{ value8 }}</p>
        </div>
      </div>
    </DemoSection>

    <sp-space :size="24" />

    <!-- äº‹ä»¶æ¼”ç¤º -->
    <DemoSection title="äº‹ä»¶æ¼”ç¤º" subtitle="ç›‘å¬æ»‘å—çš„å„ç§äº‹ä»¶">
      <div class="demo-row">
        <div class="slider-wrapper">
          <h3>äº‹ä»¶ç›‘å¬</h3>
          <SPSlider
            v-model="value9"
            :min="0"
            :max="100"
            :step="1"
            @start="onSliderStart"
            @end="onSliderEnd"
            @update:modelValue="onSliderChange"
          />
          <p>å½“å‰å€¼: {{ value9 }}</p>
          <div class="event-log">
            <h4>äº‹ä»¶æ—¥å¿—:</h4>
            <ul>
              <li
                v-for="(event, index) in eventLog"
                :key="index"
              >
                {{ event }}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </DemoSection>

    <sp-space :size="24" />

    <!-- å‚ç›´æ»‘å— -->
    <DemoSection title="å‚ç›´æ»‘å—" subtitle="å‚ç›´æ–¹å‘çš„æ»‘å—ç»„ä»¶">
      <div class="demo-row">
        <div class="slider-wrapper vertical-demo">
          <h3>å‚ç›´æ–¹å‘</h3>
          <div class="vertical-sliders">
            <SPSlider
              v-model="value10"
              :min="0"
              :max="100"
              :step="1"
              direction="vertical"
              style="height: 200px"
            />
            <SPSlider
              v-model="value11"
              :min="0"
              :max="100"
              :step="1"
              direction="vertical"
              style="height: 200px"
            />
          </div>
          <p>å€¼1: {{ value10 }}, å€¼2: {{ value11 }}</p>
        </div>
      </div>
    </DemoSection>
  </DemoContainer>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { SPSlider } from '@speed-ui/ui'
import DemoContainer from '../components/DemoContainer.vue'
import DemoSection from '../components/DemoSection.vue'

// å“åº”å¼æ•°æ®
const value1 = ref(30)
const value2 = ref(50)
const value3 = ref(100)
const value4 = ref(0.5)
const value5 = ref(40)
const value6 = ref(60)
const value7 = ref(70)
const value8 = ref(80)
const value9 = ref(45)
const value10 = ref(25)
const value11 = ref(75)

// äº‹ä»¶æ—¥å¿—
const eventLog = ref<string[]>([])

// äº‹ä»¶å¤„ç†å‡½æ•°
const onSliderStart = (value: number) => {
  eventLog.value.unshift(`å¼€å§‹æ‹–æ‹½: ${value}`)
  if (eventLog.value.length > 5) {
    eventLog.value.pop()
  }
}

const onSliderEnd = (value: number) => {
  eventLog.value.unshift(`ç»“æŸæ‹–æ‹½: ${value}`)
  if (eventLog.value.length > 5) {
    eventLog.value.pop()
  }
}

const onSliderChange = (value: number) => {
  eventLog.value.unshift(`å€¼å˜åŒ–: ${value}`)
  if (eventLog.value.length > 5) {
    eventLog.value.pop()
  }
}
</script>

<style scoped>
.demo-row {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
}

.slider-wrapper {
  flex: 1;
  min-width: 300px;
  padding: 15px;
  background: white;
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.slider-wrapper h3 {
  margin-top: 0;
  margin-bottom: 15px;
  color: var(--sp-color-text-primary);
  font-size: 16px;
}

.slider-wrapper p {
  margin-top: 15px;
  margin-bottom: 0;
  color: var(--sp-color-text-secondary);
  font-weight: 500;
}

.vertical-demo {
  text-align: center;
}

.vertical-sliders {
  display: flex;
  justify-content: center;
  gap: 40px;
  margin: 20px 0;
}

.event-log {
  margin-top: 15px;
  padding: 10px;
  background: var(--sp-color-surface-variant);
  border-radius: 4px;
}

.event-log h4 {
  margin: 0 0 10px 0;
  color: var(--sp-color-text-primary);
  font-size: 14px;
}

.event-log ul {
  margin: 0;
  padding-left: 20px;
  font-size: 12px;
  color: var(--sp-color-text-secondary);
}

.event-log li {
  margin-bottom: 5px;
}
</style>
