<template>
  <div class="sp-switch-tsx-demo">
    <h1>ğŸ¯ SPSwitch TSXå¼€å…³ç»„ä»¶æµ‹è¯•</h1>
    <p>åŸºäº TSX å®ç°çš„é«˜æ€§èƒ½å¼€å…³ç»„ä»¶ï¼Œæµ‹è¯• SPSwitch.tsx çš„å„ç§åŠŸèƒ½</p>

    <!-- åŸºç¡€ç”¨æ³• -->
    <section class="demo-section">
      <h2>åŸºç¡€ç”¨æ³• (Basic)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="basicValue1"
            label="å¼€å…³ 1"
          />
          <SPSwitch
            v-model="basicValue2"
            label="å¼€å…³ 2"
          />
          <SPSwitch
            v-model="basicValue3"
            label="å¼€å…³ 3"
          />
        </div>
        <div class="demo-info">
          <h4>å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{
              {
                switch1: basicValue1,
                switch2: basicValue2,
                switch3: basicValue3,
              }
            }}
          </code>
          <p><small>åŸºç¡€çš„å¼€å…³åŠŸèƒ½æµ‹è¯•</small></p>
        </div>
      </div>
    </section>

    <!-- ä¸åŒå°ºå¯¸ -->
    <section class="demo-section">
      <h2>ä¸åŒå°ºå¯¸ (Sizes)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="sizeValue1"
            label="å°å°ºå¯¸"
            size="small"
          />
          <SPSwitch
            v-model="sizeValue2"
            label="ä¸­ç­‰å°ºå¯¸"
            size="medium"
          />
          <SPSwitch
            v-model="sizeValue3"
            label="å¤§å°ºå¯¸"
            size="large"
          />
        </div>
        <div class="demo-info">
          <h4>å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{ { small: sizeValue1, medium: sizeValue2, large: sizeValue3 } }}
          </code>
          <p><small>ä¸åŒå°ºå¯¸çš„å¼€å…³ç»„ä»¶</small></p>
        </div>
      </div>
    </section>

    <!-- ç¦ç”¨çŠ¶æ€ -->
    <section class="demo-section">
      <h2>ç¦ç”¨çŠ¶æ€ (Disabled)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="disabledValue1"
            label="ç¦ç”¨å…³é—­"
            disabled
          />
          <SPSwitch
            v-model="disabledValue2"
            label="ç¦ç”¨å¼€å¯"
            disabled
          />
          <SPSwitch
            v-model="disabledValue3"
            label="åªè¯»çŠ¶æ€"
            readonly
          />
        </div>
        <div class="demo-info">
          <h4>çŠ¶æ€:</h4>
          <code>
            {{
              {
                disabled1: disabledValue1,
                disabled2: disabledValue2,
                readonly: disabledValue3,
              }
            }}
          </code>
          <p><small>ç¦ç”¨å’Œåªè¯»çŠ¶æ€çš„å¼€å…³</small></p>
        </div>
      </div>
    </section>

    <!-- æ ‡ç­¾ä½ç½® -->
    <section class="demo-section">
      <h2>æ ‡ç­¾ä½ç½® (Label Position)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="labelValue1"
            label="æ ‡ç­¾åœ¨å³ä¾§"
            label-position="right"
          />
          <SPSwitch
            v-model="labelValue2"
            label="æ ‡ç­¾åœ¨å·¦ä¾§"
            label-position="left"
          />
          <SPSwitch
            v-model="labelValue3"
            label="æ ‡ç­¾åœ¨ä¸Šæ–¹"
            label-position="top"
          />
        </div>
        <div class="demo-info">
          <h4>å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{ { right: labelValue1, left: labelValue2, top: labelValue3 } }}
          </code>
          <p><small>ä¸åŒæ ‡ç­¾ä½ç½®çš„å¼€å…³</small></p>
        </div>
      </div>
    </section>

    <!-- å¸¦å†…éƒ¨æ–‡æœ¬ -->
    <section class="demo-section">
      <h2>å¸¦å†…éƒ¨æ–‡æœ¬ (Inner Text)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="textValue1"
            label="ä¸­æ–‡æ–‡æœ¬"
            show-text
            checked-text="å¼€"
            unchecked-text="å…³"
          />
          <SPSwitch
            v-model="textValue2"
            label="è‹±æ–‡æ–‡æœ¬"
            show-text
            checked-text="ON"
            unchecked-text="OFF"
          />
          <SPSwitch
            v-model="textValue3"
            label="å›¾æ ‡æ–‡æœ¬"
            show-text
            checked-text="âœ“"
            unchecked-text="âœ—"
          />
        </div>
        <div class="demo-info">
          <h4>å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{ { chinese: textValue1, english: textValue2, icon: textValue3 } }}
          </code>
          <p><small>å¸¦å†…éƒ¨æ–‡æœ¬çš„å¼€å…³ç»„ä»¶</small></p>
        </div>
      </div>
    </section>

    <!-- æ— æ ‡ç­¾å¼€å…³ -->
    <section class="demo-section">
      <h2>æ— æ ‡ç­¾å¼€å…³ (No Label)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="noLabelValue1"
            :show-label="false"
          />
          <SPSwitch
            v-model="noLabelValue2"
            :show-label="false"
            size="small"
          />
          <SPSwitch
            v-model="noLabelValue3"
            :show-label="false"
            size="large"
          />
        </div>
        <div class="demo-info">
          <h4>å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{
              {
                normal: noLabelValue1,
                small: noLabelValue2,
                large: noLabelValue3,
              }
            }}
          </code>
          <p><small>æ— æ ‡ç­¾çš„çº¯å¼€å…³ç»„ä»¶</small></p>
        </div>
      </div>
    </section>

    <!-- åŠ è½½çŠ¶æ€ -->
    <section class="demo-section">
      <h2>åŠ è½½çŠ¶æ€ (Loading)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="loadingValue1"
            label="åŠ è½½ä¸­"
            loading
          />
          <SPSwitch
            v-model="loadingValue2"
            label="å¼‚æ­¥åˆ‡æ¢"
            :loading="isAsyncLoading"
            @change="handleAsyncChange"
          />
        </div>
        <div class="demo-info">
          <h4>çŠ¶æ€:</h4>
          <code>
            {{
              {
                loading: loadingValue1,
                async: loadingValue2,
                isLoading: isAsyncLoading,
              }
            }}
          </code>
          <p><small>åŠ è½½çŠ¶æ€çš„å¼€å…³ç»„ä»¶</small></p>
        </div>
      </div>
    </section>

    <!-- å˜ä½“æ ·å¼ -->
    <section class="demo-section">
      <h2>å˜ä½“æ ·å¼ (Variants)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="variantValue1"
            label="é»˜è®¤æ ·å¼ (Default)"
          />
          <SPSwitch
            v-model="variantValue2"
            label="å†…åµŒæ ·å¼ (Inset)"
            inset
          />
          <SPSwitch
            v-model="variantValue3"
            label="æ‰å¹³æ ·å¼ (Flat)"
            flat
          />
          <SPSwitch
            v-model="variantValue4"
            label="å†…åµŒ + æ‰å¹³"
            inset
            flat
          />
        </div>
        <div class="demo-info">
          <h4>å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{
              {
                default: variantValue1,
                inset: variantValue2,
                flat: variantValue3,
                insetFlat: variantValue4,
              }
            }}
          </code>
          <p><small>ä¸åŒçš„è§†è§‰æ ·å¼å˜ä½“</small></p>
        </div>
      </div>
    </section>

    <!-- å†…åµŒæ ·å¼ + æ–‡å­— -->
    <section class="demo-section">
      <h2>å†…åµŒæ ·å¼ + æ–‡å­— (Inset + Text)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="insetTextValue1"
            label="å†…åµŒ + è‹±æ–‡"
            inset
            thumb-checked-text="ON"
            thumb-unchecked-text="OFF"
          />
          <SPSwitch
            v-model="insetTextValue2"
            label="å†…åµŒ + ä¸­æ–‡"
            inset
            thumb-checked-text="å¼€"
            thumb-unchecked-text="å…³"
          />
          <SPSwitch
            v-model="insetTextValue3"
            label="å†…åµŒ + æ•°å­—"
            inset
            thumb-checked-text="1"
            thumb-unchecked-text="0"
          />
          <SPSwitch
            v-model="insetTextValue4"
            label="å†…åµŒ + ç¬¦å·"
            inset
            thumb-checked-text="âœ“"
            thumb-unchecked-text="âœ—"
          />
          <SPSwitch
            v-model="insetTextValue5"
            label="å†…åµŒ + é¢œè‰² + æ–‡å­—"
            inset
            color="success"
            thumb-checked-text="YES"
            thumb-unchecked-text="NO"
          />
        </div>
        <div class="demo-info">
          <h4>å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{
              {
                default: variantValue1,
                inset: variantValue2,
                flat: variantValue3,
                insetFlat: variantValue4,
              }
            }}
          </code>
          <p><small>ä¸åŒçš„è§†è§‰æ ·å¼å˜ä½“</small></p>
        </div>
      </div>
    </section>

    <!-- æ–¹å½¢å†…åµŒæ ·å¼ -->
    <section class="demo-section">
      <h2>æ–¹å½¢å†…åµŒæ ·å¼ (Inset Square)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="squareValue1"
            label="æ–¹å½¢å†…åµŒæ ·å¼"
            inset-square
          />
          <SPSwitch
            v-model="squareValue2"
            label="æ–¹å½¢ + æ–‡å­—"
            inset-square
            thumb-checked-text="ON"
            thumb-unchecked-text="OFF"
          />
          <SPSwitch
            v-model="squareValue3"
            label="æ–¹å½¢ + ä¸­æ–‡"
            inset-square
            thumb-checked-text="å¼€"
            thumb-unchecked-text="å…³"
          />
          <SPSwitch
            v-model="squareValue4"
            label="æ–¹å½¢ + é¢œè‰²"
            inset-square
            color="primary"
            thumb-checked-text="âœ“"
            thumb-unchecked-text="âœ—"
          />
          <SPSwitch
            v-model="squareValue5"
            label="æ–¹å½¢ + Success"
            inset-square
            color="success"
            thumb-checked-text="YES"
            thumb-unchecked-text="NO"
          />
        </div>
        <div class="demo-info">
          <h4>æ–¹å½¢å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{
              {
                basic: squareValue1,
                text: squareValue2,
                chinese: squareValue3,
                primary: squareValue4,
                success: squareValue5,
              }
            }}
          </code>
          <p><small>æ–¹å½¢çš„å†…åµŒæ ·å¼å¼€å…³</small></p>
        </div>
      </div>
    </section>

    <!-- é¢œè‰²ä¸»é¢˜ -->
    <section class="demo-section">
      <h2>é¢œè‰²ä¸»é¢˜ (Colors)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="colorValue1"
            label="é»˜è®¤é¢œè‰²"
          />
          <SPSwitch
            v-model="colorValue2"
            label="Primary"
            color="primary"
          />
          <SPSwitch
            v-model="colorValue3"
            label="Secondary"
            color="secondary"
          />
          <SPSwitch
            v-model="colorValue4"
            label="Success"
            color="success"
          />
          <SPSwitch
            v-model="colorValue5"
            label="Warning"
            color="warning"
          />
          <SPSwitch
            v-model="colorValue6"
            label="Error"
            color="error"
          />
          <SPSwitch
            v-model="colorValue7"
            label="Info"
            color="info"
          />
        </div>
        <div class="demo-info">
          <h4>å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{
              {
                default: colorValue1,
                primary: colorValue2,
                secondary: colorValue3,
                success: colorValue4,
                warning: colorValue5,
                error: colorValue6,
                info: colorValue7,
              }
            }}
          </code>
          <p><small>ä¸åŒçš„ä¸»é¢˜é¢œè‰²</small></p>
        </div>
      </div>
    </section>

    <!-- Thumb æ–‡å­— -->
    <section class="demo-section">
      <h2>Thumb æ–‡å­— (Thumb Text)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="thumbTextValue1"
            label="å›ºå®šæ–‡å­—"
            thumb-text="ON"
          />
          <SPSwitch
            v-model="thumbTextValue2"
            label="å¼€å…³æ–‡å­—"
            thumb-checked-text="å¼€"
            thumb-unchecked-text="å…³"
          />
          <SPSwitch
            v-model="thumbTextValue3"
            label="è‹±æ–‡å¼€å…³"
            thumb-checked-text="ON"
            thumb-unchecked-text="OFF"
          />
          <SPSwitch
            v-model="thumbTextValue4"
            label="æ•°å­—å¼€å…³"
            thumb-checked-text="1"
            thumb-unchecked-text="0"
          />
          <SPSwitch
            v-model="thumbTextValue5"
            label="ç¬¦å·å¼€å…³"
            thumb-checked-text="âœ“"
            thumb-unchecked-text="âœ—"
          />
        </div>
        <div class="demo-info">
          <h4>å¼€å…³çŠ¶æ€:</h4>
          <code>
            {{
              {
                fixed: thumbTextValue1,
                chinese: thumbTextValue2,
                english: thumbTextValue3,
                number: thumbTextValue4,
                symbol: thumbTextValue5,
              }
            }}
          </code>
          <p><small>åœ¨ thumbï¼ˆå°åœ†åœˆï¼‰ä¸Šæ˜¾ç¤ºæ–‡å­—</small></p>
        </div>
      </div>
    </section>

    <!-- ç»„åˆç¤ºä¾‹ -->
    <section class="demo-section">
      <h2>ç»„åˆç¤ºä¾‹ (Combinations)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="comboValue1"
            label="Primary + Inset + æ–‡å­—"
            color="primary"
            inset
            thumb-checked-text="ON"
            thumb-unchecked-text="OFF"
          />
          <SPSwitch
            v-model="comboValue2"
            label="Success + Flat + ç¬¦å·"
            color="success"
            flat
            thumb-checked-text="âœ“"
            thumb-unchecked-text="âœ—"
          />
          <SPSwitch
            v-model="comboValue3"
            label="Warning + Inset + Flat + æ•°å­—"
            color="warning"
            inset
            flat
            thumb-checked-text="1"
            thumb-unchecked-text="0"
          />
          <SPSwitch
            v-model="comboValue4"
            label="Error + ä¸­æ–‡"
            color="error"
            thumb-checked-text="å¼€"
            thumb-unchecked-text="å…³"
          />
        </div>
        <div class="demo-info">
          <h4>ç»„åˆçŠ¶æ€:</h4>
          <code>
            {{
              {
                primaryInset: comboValue1,
                successFlat: comboValue2,
                warningCombo: comboValue3,
                errorChinese: comboValue4,
              }
            }}
          </code>
          <p><small>å¤šç§å±æ€§çš„ç»„åˆä½¿ç”¨</small></p>
        </div>
      </div>
    </section>

    <!-- äº‹ä»¶æµ‹è¯• -->
    <section class="demo-section">
      <h2>äº‹ä»¶æµ‹è¯• (Events)</h2>
      <div class="demo-container">
        <div class="switch-wrapper">
          <SPSwitch
            v-model="eventValue"
            label="äº‹ä»¶ç›‘å¬"
            @change="onSwitchChange"
            @focus="onSwitchFocus"
            @blur="onSwitchBlur"
          />
        </div>
        <div class="demo-info">
          <h4>äº‹ä»¶æ—¥å¿—:</h4>
          <div class="event-log">
            <div
              v-for="(log, index) in eventLogs"
              :key="index"
              class="log-item"
            >
              <span class="log-time">{{ log.time }}</span>
              <span class="log-event">{{ log.event }}</span>
              <span class="log-value">{{ log.value }}</span>
            </div>
          </div>
          <button
            @click="clearLogs"
            class="clear-btn"
          >
            æ¸…ç©ºæ—¥å¿—
          </button>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
  import { ref } from 'vue'
  import { SPSwitch } from '@speed-ui/ui'

  // åŸºç¡€ç”¨æ³•
  const basicValue1 = ref(false)
  const basicValue2 = ref(true)
  const basicValue3 = ref(false)

  // ä¸åŒå°ºå¯¸
  const sizeValue1 = ref(false)
  const sizeValue2 = ref(true)
  const sizeValue3 = ref(false)

  // ç¦ç”¨çŠ¶æ€
  const disabledValue1 = ref(false)
  const disabledValue2 = ref(true)
  const disabledValue3 = ref(false)

  // æ ‡ç­¾ä½ç½®
  const labelValue1 = ref(false)
  const labelValue2 = ref(true)
  const labelValue3 = ref(false)

  // å¸¦å†…éƒ¨æ–‡æœ¬
  const textValue1 = ref(false)
  const textValue2 = ref(true)
  const textValue3 = ref(false)

  // æ— æ ‡ç­¾å¼€å…³
  const noLabelValue1 = ref(false)
  const noLabelValue2 = ref(true)
  const noLabelValue3 = ref(false)

  // åŠ è½½çŠ¶æ€
  const loadingValue1 = ref(false)
  const loadingValue2 = ref(false)
  const isAsyncLoading = ref(false)

  // å˜ä½“æ ·å¼
  const variantValue1 = ref(false)
  const variantValue2 = ref(true)
  const variantValue3 = ref(false)
  const variantValue4 = ref(true)

  // å†…åµŒæ ·å¼ + æ–‡å­—
  const insetTextValue1 = ref(true)
  const insetTextValue2 = ref(false)
  const insetTextValue3 = ref(true)
  const insetTextValue4 = ref(false)
  const insetTextValue5 = ref(true)

  // æ–¹å½¢å†…åµŒæ ·å¼
  const squareValue1 = ref(false)
  const squareValue2 = ref(true)
  const squareValue3 = ref(false)
  const squareValue4 = ref(true)
  const squareValue5 = ref(false)

  // é¢œè‰²ä¸»é¢˜
  const colorValue1 = ref(false)
  const colorValue2 = ref(true)
  const colorValue3 = ref(false)
  const colorValue4 = ref(true)
  const colorValue5 = ref(false)
  const colorValue6 = ref(true)
  const colorValue7 = ref(false)

  // Thumb æ–‡å­—
  const thumbTextValue1 = ref(false)
  const thumbTextValue2 = ref(false)
  const thumbTextValue3 = ref(true)
  const thumbTextValue4 = ref(false)
  const thumbTextValue5 = ref(true)

  // ç»„åˆç¤ºä¾‹
  const comboValue1 = ref(true)
  const comboValue2 = ref(false)
  const comboValue3 = ref(true)
  const comboValue4 = ref(false)

  // äº‹ä»¶æµ‹è¯•
  const eventValue = ref(false)
  const eventLogs = ref<Array<{ time: string; event: string; value: any }>>([])

  // å¼‚æ­¥åˆ‡æ¢å¤„ç†
  const handleAsyncChange = async (value: boolean) => {
    isAsyncLoading.value = true
    // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ
    await new Promise(resolve => setTimeout(resolve, 1500))
    loadingValue2.value = value
    isAsyncLoading.value = false
  }

  // äº‹ä»¶å¤„ç†
  const onSwitchChange = (value: boolean) => {
    addEventLog('change', value)
  }

  const onSwitchFocus = () => {
    addEventLog('focus', 'focused')
  }

  const onSwitchBlur = () => {
    addEventLog('blur', 'blurred')
  }

  const addEventLog = (event: string, value: any) => {
    const time = new Date().toLocaleTimeString()
    eventLogs.value.unshift({ time, event, value })
    // é™åˆ¶æ—¥å¿—æ•°é‡
    if (eventLogs.value.length > 10) {
      eventLogs.value = eventLogs.value.slice(0, 10)
    }
  }

  const clearLogs = () => {
    eventLogs.value = []
  }
</script>

<style scoped>
  .sp-switch-tsx-demo {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
      sans-serif;
  }

  .sp-switch-tsx-demo h1 {
    color: #2c3e50;
    margin-bottom: 0.5rem;
    font-size: 2.5rem;
  }

  .sp-switch-tsx-demo > p {
    color: #7f8c8d;
    font-size: 1.1rem;
    margin-bottom: 3rem;
  }

  .demo-section {
    margin-bottom: 3rem;
    padding: 2rem;
    border: 1px solid #ecf0f1;
    border-radius: 8px;
    background: #fff;
  }

  .demo-section h2 {
    color: #34495e;
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #ecf0f1;
    font-size: 1.5rem;
  }

  .demo-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: start;
  }

  .switch-wrapper {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .demo-info {
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 6px;
    border-left: 4px solid #3498db;
  }

  .demo-info h4 {
    margin: 0 0 0.5rem 0;
    color: #2c3e50;
    font-size: 1rem;
  }

  .demo-info code {
    display: block;
    padding: 0.75rem;
    background: #2c3e50;
    color: #ecf0f1;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    word-break: break-all;
    margin-bottom: 0.5rem;
  }

  .demo-info p {
    margin: 0;
    color: #7f8c8d;
  }

  .event-log {
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-bottom: 1rem;
  }

  .log-item {
    display: flex;
    padding: 0.5rem;
    border-bottom: 1px solid #eee;
    font-family: 'Courier New', monospace;
    font-size: 0.8rem;
  }

  .log-item:last-child {
    border-bottom: none;
  }

  .log-time {
    color: #666;
    margin-right: 1rem;
    min-width: 80px;
  }

  .log-event {
    color: #e74c3c;
    margin-right: 1rem;
    min-width: 60px;
    font-weight: bold;
  }

  .log-value {
    color: #27ae60;
  }

  .clear-btn {
    padding: 0.5rem 1rem;
    background: #e74c3c;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
  }

  .clear-btn:hover {
    background: #c0392b;
  }

  @media (max-width: 768px) {
    .demo-container {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .sp-switch-tsx-demo {
      padding: 1rem;
    }

    .demo-section {
      padding: 1rem;
    }
  }
</style>
