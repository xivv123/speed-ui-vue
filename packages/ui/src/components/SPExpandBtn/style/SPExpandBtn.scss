@use '@theme/src/material/tools' as tools;
@use './_vars' as *;

@include tools.layer('components') {
  .sp-expand-btn {
    position: relative;
    display: inline-flex;
    align-items: center;
    overflow: hidden;
    height: $expand-btn-height;
    background: $expand-btn-background;
    box-shadow: $expand-btn-box-shadow;
    transition-property: width, box-shadow;
    transition-duration: $expand-btn-transition-duration;
    transition-timing-function: $expand-btn-transition-timing;
    cursor: pointer;

    &:hover {
      box-shadow: $expand-btn-box-shadow-hover;
    }

    // Circle shape (default)
    &--circle {
      border-radius: $expand-btn-border-radius;
    }

    // Rectangle shape
    &--rectangle {
      border-radius: $expand-btn-rectangle-border-radius;
    }

    &--disabled {
      cursor: not-allowed;
      opacity: $expand-btn-disabled-opacity;

      &:hover {
        box-shadow: $expand-btn-box-shadow;
      }
    }

    &__collapsed,
    &__expanded {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      pointer-events: none;
    }

    &__expanded {
      width: 100%;
      padding: 0 16px;
      box-sizing: border-box;
    }

    &__collapsed,
    &__expanded {
      > * {
        pointer-events: auto;
      }
    }
  }

  // Fade transition with delay to avoid overlap
  .fade-transition-enter-active {
    transition: opacity $expand-btn-fade-enter-duration ease
      $expand-btn-fade-enter-delay;
    will-change: opacity;
  }

  .fade-transition-leave-active {
    transition: opacity $expand-btn-fade-leave-duration ease;
    will-change: opacity;
  }

  .fade-transition-enter-from,
  .fade-transition-leave-to {
    opacity: 0;
  }

  .fade-transition-enter-to {
    opacity: 1;
  }

  .fade-transition-leave-from {
    opacity: 1;
  }
}
