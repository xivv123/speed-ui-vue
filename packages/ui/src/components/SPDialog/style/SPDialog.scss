@use '@theme/src/material/tools' as tools;
@use './_variables' as *;

@include tools.layer('components') {
  .sp-dialog {
    align-items: center;
    justify-content: center;
    margin: auto;

    > .sp-overlay__content {
      max-height: calc(100% - #{$dialog-margin * 2});
      width: calc(100% - #{$dialog-margin * 2});
      max-width: calc(100% - #{$dialog-margin * 2});
      margin: $dialog-margin;

      &,
      > form {
        display: flex;
        flex-direction: column;
        min-height: 0;

        > .sp-card,
        > .v-sheet {
          --sp-scrollbar-offset: 0px;
          border-radius: $dialog-border-radius;
          overflow-y: auto;
          flex: 1 1 100%;

          @include tools.elevation($dialog-elevation);
        }

        > .sp-card {
          display: flex;
          flex-direction: column;

          > .sp-card-item {
            padding: $dialog-card-header-padding;

            + .sp-card-text {
              padding-top: $dialog-card-header-text-padding-top;
            }
          }

          > .sp-card-text {
            font-size: inherit;
            letter-spacing: $dialog-card-text-letter-spacing;
            line-height: inherit;
            padding: $dialog-card-text-padding;
          }

          > .sp-card-actions {
            justify-content: $dialog-card-actions-justify;
          }
        }
      }
    }
  }

  .sp-dialog--fullscreen {
    --sp-scrollbar-offset: 0px;

    > .sp-overlay__content {
      border-radius: 0;
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      max-width: 100%;
      max-height: 100%;
      overflow-y: auto;
      top: 0;
      left: 0;

      &,
      > form {
        > .sp-card,
        > .v-sheet {
          min-height: 100%;
          min-width: 100%;
          border-radius: 0;
        }
      }
    }
  }

  .sp-dialog--scrollable > .sp-overlay__content {
    > form {
      &,
      > .sp-card {
        max-height: 100%;
        max-width: 100%;
      }
    }

    &,
    > form {
      &,
      > .sp-card {
        display: flex;
        flex: 1 1 100%;
        flex-direction: column;
      }

      > .sp-card > .sp-card-text {
        backface-visibility: hidden;
        overflow-y: auto;
      }
    }
  }
}
